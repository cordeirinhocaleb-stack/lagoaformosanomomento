@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --background: 0 0% 100%;
        --foreground: 240 10% 3.9%;
    }

    .dark {
        --background: 240 10% 3.9%;
        --foreground: 0 0% 98%;
    }
}

body {
    @apply bg-gray-50 text-gray-900;
}

/* --- LEGACY ANIMATIONS & UTILITIES --- */

/* Scrollbar Hiding */
html {
    scroll-behavior: smooth;
    scroll-padding-top: 80px;
}

body {
    -webkit-overflow-scrolling: touch;
}

* {
    -ms-overflow-style: none;
    /* IE and Edge */
    scrollbar-width: none;
    /* Firefox */
}

*::-webkit-scrollbar {
    display: none;
}

/* Utility Classes */
.serif {
    font-family: 'Merriweather', serif;
}

.handwritten {
    font-family: 'Caveat', cursive;
}

.content-lazy {
    content-visibility: auto;
    contain-intrinsic-size: 1px 500px;
}

/* Form Inputs */
[contenteditable="true"],
input,
textarea {
    caret-color: #dc2626 !important;
    outline: none !important;
}

/* --- ANIMATIONS --- */

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

.animate-fadeIn {
    animation: fadeIn 0.5s ease-out forwards;
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }

    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.animate-slideInRight {
    animation: slideInRight 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes almost-fall {
    0% {
        transform: rotate(0deg);
    }

    15% {
        transform: rotate(-22deg);
    }

    30% {
        transform: rotate(18deg);
    }

    45% {
        transform: rotate(-12deg);
    }

    60% {
        transform: rotate(8deg);
    }

    75% {
        transform: rotate(-4deg);
    }

    100% {
        transform: rotate(0deg);
    }
}

.animate-almost-fall {
    display: inline-block;
    transform-origin: bottom center !important;
    animation: almost-fall 0.9s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

@keyframes coin-spin {
    0% {
        transform: rotateY(0deg);
    }

    100% {
        transform: rotateY(360deg);
    }
}

.animate-coin {
    animation: coin-spin 1.5s linear infinite;
    transform-style: preserve-3d;
}

/* Police Sweep Effect */
@keyframes police-sweep {
    0% {
        transform: translateX(-100%);
    }

    50% {
        transform: translateX(100%);
    }

    100% {
        transform: translateX(-100%);
    }
}

.police-sweep {
    height: 100%;
    width: 100%;
    background: linear-gradient(90deg, transparent, #dc2626, #2563eb, transparent);
    animation: police-sweep 3s infinite linear;
}

/* Hover Police Flash Effect */
button:not(.ticker-btn),
.hover-police-flash {
    position: relative !important;
    overflow: hidden !important;
    isolation: isolate;
}

button:not(.ticker-btn)::after,
.hover-police-flash::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: inherit !important;
    background: linear-gradient(90deg,
            transparent 0%,
            rgba(220, 38, 38, 0.4) 20%,
            rgba(255, 255, 255, 0.7) 50%,
            rgba(37, 99, 235, 0.4) 80%,
            transparent 100%);
    transform: translateX(-150%) skewX(-25deg);
    pointer-events: none;
    z-index: 10;
    opacity: 0;
    transition: opacity 0.2s;
}

.rounded-full::after,
button.rounded-full::after {
    border-radius: 9999px !important;
}

button:not(.ticker-btn):hover::after,
button:not(.ticker-btn):active::after,
.hover-police-flash:hover::after,
.hover-police-flash:active::after {
    opacity: 1;
    animation: police-sweep 1.2s infinite linear;
}

/* Custom Scrollbar for specific containers */
.custom-scrollbar::-webkit-scrollbar {
    display: block !important;
    width: 4px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background: #dc2626;
    border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #b91c1c;
}
